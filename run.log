yarn run v1.22.22
$ /home/ivo/code/dhis2/capture-app/node_modules/.bin/cypress run

====================================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:        12.17.4                                                                        │
  │ Browser:        Electron 106 (headless)                                                        │
  │ Node Version:   v22.15.0 (/snap/node/10097/bin/node)                                           │
  │ Specs:          34 found (AllAccessibleRecordsPage/AllAccessibleRecordsPage.feature, MainPage/ │
  │                 MainPage.feature, NewEventThroughAddRelationship/NewEventThroughAddRelationshi │
  │                 p.feature, NewPage/NewPage.feature, RelatedStages/RelatedStages.feature, Scope │
  │                 Selector/ScopeSelector....)                                                    │
  │ Searched:       cypress/e2e/**/*.feature                                                       │
  │ Experiments:    experimentalFetchPolyfill=true                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  AllAccessibleRecordsPage/AllAccessibleRecordsPage.feature                      (1 of 34)


  the user interacts with the "view all records regardless of OrgUnit"-page.
    ✓ The working list are hidden by default (1600ms)
    ✓ A message will be shown when OrgUnit is not selected (10106ms)
    ✓ The working list will hydrate when event program is selected (4346ms)
    ✓ The working list will hydrate when tracker program is selected (3590ms)
    ✓ the working list will hydrate when updated by the URL (2693ms)
    ✓ The user can edit an event without selecting OrgUnit (7497ms)


  6 passing (31s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        6                                                                                │
  │ Passing:      6                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     30 seconds                                                                       │
  │ Spec Ran:     AllAccessibleRecordsPage/AllAccessibleRecordsPage.feature                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 2 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/AllAccessibleRecordsPage/AllAccessibleRecordsPage.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  MainPage/MainPage.feature                                                      (2 of 34)


  User interacts with Main page
    ✓ The Working list is displayed (6053ms)
    ✓ The Working list is displayed for an event program (4047ms)
    ✓ The Search form is displayed for programs with displayFrontPageList set to false (6084ms)
    ✓ You can load a custom working list and switch between views (2310ms)
    ✓ You are redirected to create a custom working list (3839ms)
    - The icon is rendered as an svg
    ✓ The icon is rendered as a custom icon (1944ms)


  6 passing (25s)
  1 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        7                                                                                │
  │ Passing:      6                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     24 seconds                                                                       │
  │ Spec Ran:     MainPage/MainPage.feature                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 2 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/MainPage/MainPage.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  NewEventThroughAddRelationship/NewEventThroughAddRelationship.featur           (3 of 34)
            e                                                                                       


  User adds events
    ✓ User adds event in the malaria case registration program (9494ms)
    ✓ User adds event with relationship to new person in the malaria case registration program (18363ms)
    ✓ User adds event with relationship to existing person in the malaria case registration program (9971ms)
    ✓ User gets navigated correctly when clicking on the back button (3563ms)


  4 passing (42s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        4                                                                                │
  │ Passing:      4                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     41 seconds                                                                       │
  │ Spec Ran:     NewEventThroughAddRelationship/NewEventThroughAddRelationship.feature            │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 3 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/NewEventThroughAddRelationship/NewEventThroughAddRelationship.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  NewPage/NewPage.feature                                                        (4 of 34)


  User creates a new entries from the registration page
    ✓ Viewing the registration page without any selections (3289ms)
    ✓ New person in Tracker Program > Filling the Allergies with multiple options (11586ms)
    ✓ Viewing the registration page with organisation unit selected (3248ms)
    ✓ Viewing the registration page with organisation unit and tracked entity type person selected (4141ms)
    ✓ Viewing the registration page with organisation unit and tracker program Child Programme selected (6160ms)
    ✓ Viewing the registration page with organisation unit and event program Malaria case registration selected (5858ms)
    ✓ Viewing section descriptions with organisation unit and event program Inpatient morbidity and mortality selected (6555ms)
    ✓ Navigating to registration page without program selected (4703ms)
    ✓ Navigating to registration page with program selected (6926ms)
    ✓ Navigating to registration page from view single event page (5090ms)
    ✓ Clicking the cancel button should navigate with correct context (5422ms)
    ✓ New event in Antenatal care visit > Submitting the form with empty visit date throws validation error (2985ms)
    ✓ New event in Antenatal care visit > Submitting the form with high hemoglobin value throws validation error (3078ms)
    ✓ New event in Antenatal care visit > Submitting the form with correct values navigates you to the working list (7818ms)
    ✓ New person > Submitting the form with unique name navigates you to the user dashboard (2765ms)
    ✓ New person > Submitting the form from the duplicates modal navigates you to the user dashboard (2574ms)
    ✓ New person > Submitting the form shows a list with duplicates (3330ms)
    ✓ New person > Cancel the editing form should show a warning (12279ms)
    - New person in Tracker Program > Submitting the form with empty visit date throws validation error
    ✓ New person in Tracker Program > Filling the age with age 0 throws validation warning (8638ms)
    ✓ New person in Tracker Program > Submitting the form with unique values navigates you to the user dashboard (10155ms)
    (Attempt 1 of 4) New person in Tracker Program > Submitting the form with enrollment coordinate
    ✓ New person in Tracker Program > Submitting the form with enrollment coordinate (19582ms)
    (Attempt 1 of 4) New person in Tracker Program > Submitting the form from the duplicates modal navigates you to the user dashboard
    ✓ New person in Tracker Program > Submitting the form from the duplicates modal navigates you to the user dashboard (11135ms)
    ✓ New person in Tracker Program > Submitting the form shows a list with duplicates (13920ms)
    ✓ New person in Tracker Program > Submitting without filling the form shows errors underneath the fields (4462ms)
    ✓ Go to enrollment event when Open data entry form after enrollment is checked (11980ms)
    ✓ New enrollment of existing TEI > The TEI form is prefield with the attributes values (3747ms)
    ✓ First stage appears on registration page (3232ms)
    ✓ New malaria entity without enrollment (2898ms)
    ✓ New focus area without enrollment (2433ms)
    ✓ Viewing the registration page with incomplete program categories selection (3863ms)
    ✓ Navigating to registration page after selecting program category (6273ms)
    ✓ New event in program with category combination > The form is prefilled with the selected category combination (2677ms)
    ✓ New event in program with category combination > Submitting the form with empty category combination throws validation error (2783ms)


  33 passing (5m)
  1 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        34                                                                               │
  │ Passing:      33                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  2                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     4 minutes, 46 seconds                                                            │
  │ Spec Ran:     NewPage/NewPage.feature                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/NewPage/NewPage.feature/Use     (1280x720)
     r creates a new entries from the registration page -- New person in Tracker Prog               
     ram  Submitting the form with enrollment coordinate (failed).png                               
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/NewPage/NewPage.feature/Use     (1280x720)
     r creates a new entries from the registration page -- New person in Tracker Prog               
     ram  Submitting the form from the duplicates modal navigates you to the user das               
     hboard (failed).png                                                                            


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
    Compression progress:  47%
    Compression progress:  95%
  -  Finished compressing: 21 seconds                                                

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/NewPage/NewPage.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  RelatedStages/RelatedStages.feature                                            (5 of 34)


  Related stages
    ✓ Edit event -> User is able to link and unlink an existing event (6600ms)
    ✓ Edit event -> User is able to schedule an event in a different orgUnit (26441ms)
    ✓ Edit event -> User is able to enter details in a different orgUnit (20104ms)
    ✓ New event -> User is able to link and unlink an existing event (14593ms)
    ✓ New event -> User is able to schedule an event in a different orgUnit (22372ms)
    ✓ New event -> User is able to enter details in a different orgUnit (17021ms)
    ✓ Enroll trackedEntity -> User is able to schedule an event in a different orgUnit (25838ms)
    ✓ Enroll trackedEntity -> User is able to enter details in a different orgUnit (24058ms)


  8 passing (3m)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        8                                                                                │
  │ Passing:      8                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     2 minutes, 38 seconds                                                            │
  │ Spec Ran:     RelatedStages/RelatedStages.feature                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
    Compression progress:  91%
  -  Finished compressing: 12 seconds                                                

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/RelatedStages/RelatedStages.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  ScopeSelector/ScopeSelector.feature                                            (6 of 34)


  User uses the ScopeSelector to navigate
    ✓ Main page > Notifying that you need to select org unit and program to get started (3734ms)
    ✓ Main page > Notifying that you need to select a program to get started (2092ms)
    ✓ Main page >  Notifying that you need to select an org unit to get started (1816ms)
    ✓ Main page > Clicking start again takes you to the main page (4262ms)
    ✓ Main page > Selecting org unit and program and seeing table (4744ms)
    ✓ Main page > Url with invalid program id (1371ms)
    ✓ Main page > Url with invalid org unit id (1289ms)
    ✓ Main page > Selecting program preselected org unit (2509ms)
    ✓ Main page > Selecting org unit with preselected program (3527ms)
    ✓ Main page > Clicking the find button while having an Event type of program preselected (4025ms)
    ✓ Main page >  Clicking the find button while having an Tracker type of program preselected (4592ms)
    ✓ Main page > Having a program preselected, select an org unit which does not contain the program (3423ms)
    ✓ New event page > Landing on the page (4514ms)
    ✓ New event page > Clicking the cancel button (1662ms)
    ✓ New event page > Selecting program while org unit is preselected (2285ms)
    ✓ New event page > Url with invalid program id (1201ms)
    ✓ New event page > Url with invalid org unit id (1731ms)
    ✓ View event page > Landing on the page (219ms)
    ✓ View event page > Selecting the first entry of the events (4903ms)
    ✓ View event page > Clicking the start again button after you navigated to the page (4981ms)
    ✓ View event page > Removing the program selection after you navigated to the page (4878ms)
    ✓ View event page > Removing the org unit selection is not possible (4737ms)
    ✓ View event page > Url with invalid event id (1317ms)
    ✓ Enrollment page > Landing on the page with url (example #1) (2930ms)
    ✓ Enrollment page > Landing on the page with url (example #2) (2712ms)
    ✓ Enrollment page > Landing on the page with url (example #3) (2531ms)
    ✓ Enrollment page > Landing on the page with url (example #4) (2327ms)
    ✓ Enrollment page > Landing on the page with url (example #5) (2353ms)
    ✓ Enrollment page > Landing on the page with url (example #6) (2378ms)
    ✓ Enrollment page > Landing on the page with url (example #7) (2463ms)
    ✓ Enrollment page > Landing on the page with url (example #8) (2321ms)
    ✓ Enrollment page > Landing on the page with url (example #9) (2021ms)
    (Attempt 1 of 4) Enrollment page > Landing on the page with url (example #10)
    (Attempt 2 of 4) Enrollment page > Landing on the page with url (example #10)
    (Attempt 3 of 4) Enrollment page > Landing on the page with url (example #10)
    1) Enrollment page > Landing on the page with url (example #10)
    ✓ Enrollment page > Landing on the page with url (example #11) (2358ms)
    ✓ Enrollment page > Landing on the page with url (example #12) (1993ms)
    ✓ Enrollment page > navigating using the scope selector (6139ms)
    ✓ Enrollment page > Fallback for tei missing name (1615ms)
    ✓ Enrollment event edit page > resetting the tei (2353ms)
    ✓ Enrollment event edit page > resetting the program (2733ms)
    - Enrollment event edit page > resetting the org unit
    ✓ Enrollment event edit page > resetting the enrollment (2941ms)
    ✓ Enrollment event edit page > resetting the event (2956ms)
    ✓ Enrollment event edit page > resetting the stage (2904ms)
    ✓ Enrollment event edit page > Fallback for tei missing name (3032ms)
    ✓ Enrollment event new page > resetting the tei (2206ms)
    ✓ Enrollment event new page > resetting the program (2567ms)
    ✓ Enrollment event new page > resetting the enrollment (2383ms)
    (Attempt 1 of 4) Enrollment event new page > resetting the event
    ✓ Enrollment event new page > resetting the event (3059ms)
    ✓ Enrollment event new page > resetting the stage (2459ms)
    ✓ Enrollment event new page > Fallback for tei missing name (1693ms)


  48 passing (5m)
  1 pending
  1 failing

  1) User uses the ScopeSelector to navigate
       Enrollment page > Landing on the page with url (example #10):
     AssertionError: Timed out retrying after 25000ms: Expected to find content: 'Choose an organisation unit' within the element: <div.ScopeSelectorClass-stickyTopBar-16> but never did.
      at eval (webpack://capture-app/./cypress/e2e/ScopeSelector/ScopeSelector.js:252:0)
  at Array.map (<anonymous>)
      at Context.eval (webpack://capture-app/./cypress/e2e/ScopeSelector/ScopeSelector.js:252:0)
      at Registry.runStepDefininition (webpack://capture-app/./node_modules/@badeball/cypress-cucumber-preprocessor/dist/registry.js:136:0)
      at Object.fn (webpack://capture-app/./node_modules/@badeball/cypress-cucumber-preprocessor/dist/browser-runtime.js:312:0)
      at runStepWithLogGroup (webpack://capture-app/./node_modules/@badeball/cypress-cucumber-preprocessor/dist/helpers/cypress.js:51:0)
      at Context.eval (webpack://capture-app/./node_modules/@badeball/cypress-cucumber-preprocessor/dist/browser-runtime.js:308:0)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        50                                                                               │
  │ Passing:      48                                                                               │
  │ Failing:      1                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  5                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     4 minutes, 41 seconds                                                            │
  │ Spec Ran:     ScopeSelector/ScopeSelector.feature                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/ScopeSelector/ScopeSelector     (1280x720)
     .feature/User uses the ScopeSelector to navigate -- Enrollment page  Landing on                
     the page with url (example #10) (failed).png                                                   
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/ScopeSelector/ScopeSelector     (1280x720)
     .feature/User uses the ScopeSelector to navigate -- Enrollment page  Landing on                
     the page with url (example #10) (failed) (attempt 2).png                                       
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/ScopeSelector/ScopeSelector     (1280x720)
     .feature/User uses the ScopeSelector to navigate -- Enrollment page  Landing on                
     the page with url (example #10) (failed) (attempt 3).png                                       
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/ScopeSelector/ScopeSelector     (1280x720)
     .feature/User uses the ScopeSelector to navigate -- Enrollment page  Landing on                
     the page with url (example #10) (failed) (attempt 4).png                                       
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/ScopeSelector/ScopeSelector     (1280x720)
     .feature/User uses the ScopeSelector to navigate -- Enrollment event new page  r               
     esetting the event (failed).png                                                                


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
    Compression progress:  43%
    Compression progress:  88%
  -  Finished compressing: 22 seconds                                                

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/ScopeSelector/ScopeSelector.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  SearchForDuplicatesThroughAddRelationship/SearchForDuplicatesThrough           (7 of 34)
            AddRelationship.feature                                                                 


  Search for duplicates in the process of creating a new TEInstance
    ✓ Clicking the create user button shows a list with no results on the second page (6827ms)
    ✓ Clicking the create user button shows modal with the list of duplicates (4161ms)
    ✓ Clicking the create user button shows a list with working pagination (4964ms)
    ✓ Clicking the create user button shows a list with disabled pagination (4056ms)


  4 passing (20s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        4                                                                                │
  │ Passing:      4                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     20 seconds                                                                       │
  │ Spec Ran:     SearchForDuplicatesThroughAddRelationship/SearchForDuplicatesThroughAddRelations │
  │               hip.feature                                                                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 1 second                                                  

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/SearchForDuplicatesThroughAddRelationship/SearchForDuplicatesThroughAddRelationship.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  SearchPage/SearchPage.feature                                                  (8 of 34)


  User interacts with Search page
    ✓ Default view of search page without any selections (3201ms)
    ✓ Selecting manually a search domain. User lands on the page without search domain preselected and selects Person domain (2057ms)
    ✓ Search domain is preselected. User lands on the search page with search domain Child Programme preselected (1603ms)
    ✓ Searching using unique identifier returns no results (3413ms)
    ✓ Searching using unique identifier returns results (3599ms)
    ✓ Searching using attributes in Tracker Program returns no results (3622ms)
    ✓ Searching using attributes in Tracker Program is invalid because no terms typed (3149ms)
    ✓ Searching using attributes in Tracker Program is invalid because terms typed contain nothing but spaces (3849ms)
    ✓ Searching using attributes in Tracker Program is invalid after clearing all search terms (4502ms)
    ✓ Clicking the back button takes you to main page (1603ms)
    ✓ Searching using attributes in Tracker Program returns results (3524ms)
    ✓ Searching using one valid attribute and one attribute that contains only space (3090ms)
    ✓ Searching using attributes in Tracker Program has a working pagination (4754ms)
    ✓ Searching using attributes in Tracker Program navigates user to the dashboard view (5339ms)
    ✓ Searching using attributes in TEType navigates user to dashboard view (2895ms)
    ✓ Searching using attributes in Tracker Program domain has disabled pagination (3297ms)
    ✓ Changing the program from the ScopeSelector will change the search scope (3002ms)
    ✓ Searching using attributes in TEType domain is invalid after clearing all search terms (4070ms)
    ✓ Searching using attributes in TEType domain is invalid because terms typed contain nothing but spaces (3147ms)
    ✓ Searching using attributes in TEType domain has a working pagination (3632ms)
    ✓ Pressing enter should trigger search unique identifier returns results (2667ms)
    ✓ Pressing enter should trigger search attributes returns results (3042ms)
    ✓ Searching using attributes in TEType domain has disabled pagination (3129ms)
    ✓ Searching using only date range values as attributes (14877ms)
    ✓ Searching using zip code range values as attributes (3460ms)
    ✓ Searching using zip code range and name values as attributes (3546ms)
    ✓ Fallback search with results (3310ms)
    ✓ Fallback search navigates back to main page (3043ms)


  28 passing (2m)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        28                                                                               │
  │ Passing:      28                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     1 minute, 47 seconds                                                             │
  │ Spec Ran:     SearchPage/SearchPage.feature                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 8 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/SearchPage/SearchPage.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  SearchThroughAddRelationship/SearchThroughAddRelationship.feature              (9 of 34)


  User searches for existing TEInstance in the context of adding a relationship
    ✓ Searching using attributes in Tracker Program returns no results (5830ms)
    ✓ Searching using attributes in Tracker Program returns results (4371ms)
    ✓ Searching using attributes in Tracker Program is invalid because no terms typed (3558ms)
    ✓ Searching using attributes in Tracker Program throws error (4061ms)
    ✓ Searching using attributes in Tracker Program has a working pagination (5678ms)
    ✓ Searching using attributes in Tracker Program domain has disabled pagination (4646ms)
    ✓ Searching using ip code range values as attributes (4509ms)
    ✓ Searching using attributes in Tracker Program shows no results on the second page (5883ms)
    ✓ Searching using attributes in TEType domain returns no results (3718ms)
    ✓ Searching using attributes in TEType domain returns results (3311ms)
    ✓ Searching using attributes in TEType domain is invalid because no terms typed (2968ms)
    ✓ Searching using attributes in TEType domain throws error (3460ms)
    ✓ Searching using attributes in TEType domain has a working pagination (4459ms)
    ✓ Searching using attributes in TEType domain has disabled pagination (3962ms)
    ✓ Searching using attributes in TEType domain shows no results on the second page (4523ms)


  15 passing (1m)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        15                                                                               │
  │ Passing:      15                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     1 minute, 6 seconds                                                              │
  │ Spec Ran:     SearchThroughAddRelationship/SearchThroughAddRelationship.feature                │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 5 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/SearchThroughAddRelationship/SearchThroughAddRelationship.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  SmokeTests/SmokeTests.feature                                                 (10 of 34)


  Smoke tests
    ✓ Show login prompt (845ms)
    - Show app main selections and header bar: without auth cookie


  1 passing (924ms)
  1 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        2                                                                                │
  │ Passing:      1                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     0 seconds                                                                        │
  │ Spec Ran:     SmokeTests/SmokeTests.feature                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 0 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/SmokeTests/SmokeTests.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  TopBarActions/TopBarActions.feature                                           (11 of 34)


  User uses the TopBarActions to navigate
    ✓ Enrollment page > Clear selections (3538ms)
    ✓ Enrollment page > The user searchs for a tei inside the same program (2329ms)
    ✓ Enrollment page > You go to the search page without a program selected (1983ms)
    ✓ Enrollment page > You go to the new page without a program selected (1793ms)
    ✓ Enrollment page > You go to the new page inside the same program (2081ms)
    ✓ Enrollment Event Edit page > Clear selections (2614ms)
    ✓ Enrollment Event Edit page > The user searchs for a tei inside the same program (2603ms)
    ✓ Enrollment Event Edit page > You go to the search page without a program selected (2458ms)
    ✓ Enrollment Event Edit page > You go to the new page without a program selected (2344ms)
    ✓ Enrollment Event Edit page > You go to the new page inside the same program (2452ms)
    ✓ Enrollment Event edit page > When the user performs any actions in edit mood a popup warning message will appear. (6975ms)
    ✓ Enrollment Event New page > Clear selections (1964ms)
    ✓ Enrollment Event New page > The user searchs for a tei inside the same program (2045ms)
    ✓ Enrollment Event New page > You go to the search page without a program selected (2037ms)
    ✓ Enrollment Event New page > You go to the new page without a program selected (2262ms)
    ✓ Enrollment Event New page > You go to the new page inside the same program (2107ms)
    ✓ Enrollment Event New page > When the user performs any actions after it interacts with the form a popup warning message will appear. (7283ms)


  17 passing (51s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        17                                                                               │
  │ Passing:      17                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     50 seconds                                                                       │
  │ Spec Ran:     TopBarActions/TopBarActions.feature                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 4 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/TopBarActions/TopBarActions.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentAddEventPage/EnrollmentAddEventPageForm/EnrollmentAddEvent          (12 of 34)
            PageForm.feature                                                                        


  User interacts with the Enrollment New Event Workspace
    ✓ User can complete a Lab monitoring Event (13451ms)
    ✓ User can save a Sputum smear microscopy test without completing (12538ms)
    ✓ Required fields should display an error when saving without data (4838ms)
    ✓ Required fields should display an error when blurred without data (3910ms)
    ✓ Rules should trigger when data is typed in input (4178ms)
    ✓ User should be asked to create new event after completing a stage and choose to cancel (24195ms)
    ✓ User should be asked to create new event after completing a stage and choose to continue (24899ms)
    ✓ User is able to schedule an event with a note (9557ms)
    ✓ User can add a new event and complete the enrollment (14656ms)


  9 passing (2m)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        9                                                                                │
  │ Passing:      9                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     1 minute, 53 seconds                                                             │
  │ Spec Ran:     EnrollmentAddEventPage/EnrollmentAddEventPageForm/EnrollmentAddEventPageForm.fea │
  │               ture                                                                             │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 9 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentAddEventPage/EnrollmentAddEventPageForm/EnrollmentAddEventPageForm.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentAddEventPage/EnrollmentAddEventPageNavigation/EnrollmentAd          (13 of 34)
            dEventPageNavigation.feature                                                            


  User interacts with Enrollment Add event page
    ✓ The user can land on the enrollment add event page. (6028ms)


  1 passing (6s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        1                                                                                │
  │ Passing:      1                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     6 seconds                                                                        │
  │ Spec Ran:     EnrollmentAddEventPage/EnrollmentAddEventPageNavigation/EnrollmentAddEventPageNa │
  │               vigation.feature                                                                 │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 0 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentAddEventPage/EnrollmentAddEventPageNavigation/EnrollmentAddEventPageNavigation.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentAddEventPage/ProgramStageSelector/ProgramStageSelector.fea          (14 of 34)
            ture                                                                                    


  User is able to select program stage when navigating to EnrollmentEventNew without stageId
    ✓ User can select stage when not present (3978ms)
    ✓ The stage-button should be disabled when non-repeatable & event > 0 (2138ms)
    (Attempt 1 of 4) The stage-button should be disabled when no data write access
    (Attempt 2 of 4) The stage-button should be disabled when no data write access
    (Attempt 3 of 4) The stage-button should be disabled when no data write access
    1) The stage-button should be disabled when no data write access


  2 passing (8s)
  1 failing

  1) User is able to select program stage when navigating to EnrollmentEventNew without stageId
       The stage-button should be disabled when no data write access:
     CypressError: `cy.request()` failed on:

http://localhost:8080/api/auth/login

The response we received from your web server was:

  > 401: Unauthorized

This was considered a failure because the status code was not `2xx` or `3xx`.

If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`

-----------------------------------------------------------

The request we sent was:

Method: POST
URL: http://localhost:8080/api/auth/login
Headers: {
  "Connection": "keep-alive",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/12.17.4 Chrome/106.0.5249.51 Electron/21.0.0 Safari/537.36",
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
  "content-length": 2
}
Body: {}

-----------------------------------------------------------

The response we got was:

Status: 401 - Unauthorized
Headers: {
  "content-security-policy": "frame-ancestors 'self' http://localhost:8083 http://localhost:8080 https://*.netlify.dhis2.org http://localhost:8082 http://localhost:8081 https://dhis2.stoplight.io http://localhost:3000 http://localhost:9000;",
  "cache-control": "no-cache, private",
  "x-content-type-options": "nosniff",
  "x-xss-protection": "0",
  "content-type": "application/json;charset=UTF-8",
  "content-length": "95",
  "date": "Thu, 08 May 2025 13:57:53 GMT",
  "keep-alive": "timeout=20",
  "connection": "keep-alive"
}
Body: {
  "httpStatus": "Unauthorized",
  "httpStatusCode": 401,
  "status": "ERROR",
  "message": "Bad credentials"
}


This error occurred while creating the session. Because the session setup failed, we failed the test.

https://on.cypress.io/request
      at <unknown> (http://localhost:3000/__cypress/runner/cypress_runner.js:132360:72)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:1807:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:1519:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:1576:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:1621:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:1701:18)
      at _drainQueueStep (http://localhost:3000/__cypress/runner/cypress_runner.js:2407:12)
      at _drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:2400:9)
      at Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2416:5)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2286:14)
  From Your Spec Code:
      at Context.eval (webpack://capture-app/./cypress/support/commands.js:38:0)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        3                                                                                │
  │ Passing:      2                                                                                │
  │ Failing:      1                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  4                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     7 seconds                                                                        │
  │ Spec Ran:     EnrollmentAddEventPage/ProgramStageSelector/ProgramStageSelector.feature         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentAddEventPage/Prog     (1280x720)
     ramStageSelector/ProgramStageSelector.feature/User is able to select program sta               
     ge when navigating to EnrollmentEventNew without stageId -- The stage-button sho               
     uld be disabled when no data write access (failed).png                                         
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentAddEventPage/Prog     (1280x720)
     ramStageSelector/ProgramStageSelector.feature/User is able to select program sta               
     ge when navigating to EnrollmentEventNew without stageId -- The stage-button sho               
     uld be disabled when no data write access (failed) (attempt 2).png                             
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentAddEventPage/Prog     (1280x720)
     ramStageSelector/ProgramStageSelector.feature/User is able to select program sta               
     ge when navigating to EnrollmentEventNew without stageId -- The stage-button sho               
     uld be disabled when no data write access (failed) (attempt 3).png                             
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentAddEventPage/Prog     (1280x720)
     ramStageSelector/ProgramStageSelector.feature/User is able to select program sta               
     ge when navigating to EnrollmentEventNew without stageId -- The stage-button sho               
     uld be disabled when no data write access (failed) (attempt 4).png                             


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 0 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentAddEventPage/ProgramStageSelector/ProgramStageSelector.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentEditEventPage/EnrollmentEditEventPageForm/EnrollmentEditEv          (15 of 34)
            entPageForm.feature                                                                     


  User interacts with Enrollment event page view/edit form
    ✓ The user can view the sections, the labels and the values in the form (6398ms)
    ✓ The user can enter and exit the edit mode. (4789ms)
    ✓ The tracker program rules are triggered correctly for the Child Program. (7283ms)
    ✓ The tracker program rules are triggered correctly for the WHO RMNCH Tracker Program (11779ms)
    ✓ User can modify and save the data in the form (18831ms)
    ✓ User goes directly to Edit mode for scheduled events (5715ms)
    ✓ User can update schedule date for a scheduled event (15223ms)
    ✓ User can update schedule date if Hide due date is enabled (3207ms)
    ✓ User can see disabled scheduled date for active event (4792ms)
    (Attempt 1 of 4) The user cannot enter edit mode for completed events
    (Attempt 2 of 4) The user cannot enter edit mode for completed events
    (Attempt 3 of 4) The user cannot enter edit mode for completed events
    1) The user cannot enter edit mode for completed events
    ✓ User can edit the event and complete the enrollment (12628ms)


  10 passing (2m)
  1 failing

  1) User interacts with Enrollment event page view/edit form
       The user cannot enter edit mode for completed events:
     CypressError: `cy.request()` failed on:

http://localhost:8080/api/auth/login

The response we received from your web server was:

  > 401: Unauthorized

This was considered a failure because the status code was not `2xx` or `3xx`.

If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`

-----------------------------------------------------------

The request we sent was:

Method: POST
URL: http://localhost:8080/api/auth/login
Headers: {
  "Connection": "keep-alive",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/12.17.4 Chrome/106.0.5249.51 Electron/21.0.0 Safari/537.36",
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
  "content-length": 2
}
Body: {}

-----------------------------------------------------------

The response we got was:

Status: 401 - Unauthorized
Headers: {
  "content-security-policy": "frame-ancestors 'self' http://localhost:8083 http://localhost:8080 https://*.netlify.dhis2.org http://localhost:8082 http://localhost:8081 https://dhis2.stoplight.io http://localhost:3000 http://localhost:9000;",
  "cache-control": "no-cache, private",
  "x-content-type-options": "nosniff",
  "x-xss-protection": "0",
  "content-type": "application/json;charset=UTF-8",
  "content-length": "95",
  "date": "Thu, 08 May 2025 13:59:19 GMT",
  "keep-alive": "timeout=20",
  "connection": "keep-alive"
}
Body: {
  "httpStatus": "Unauthorized",
  "httpStatusCode": 401,
  "status": "ERROR",
  "message": "Bad credentials"
}


This error occurred while creating the session. Because the session setup failed, we failed the test.

https://on.cypress.io/request
      at <unknown> (http://localhost:3000/__cypress/runner/cypress_runner.js:132360:72)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:1807:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:1519:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:1576:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:1621:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:1701:18)
      at _drainQueueStep (http://localhost:3000/__cypress/runner/cypress_runner.js:2407:12)
      at _drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:2400:9)
      at Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2416:5)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2286:14)
  From Your Spec Code:
      at Context.eval (webpack://capture-app/./cypress/support/commands.js:38:0)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        11                                                                               │
  │ Passing:      10                                                                               │
  │ Failing:      1                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  4                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     1 minute, 34 seconds                                                             │
  │ Spec Ran:     EnrollmentEditEventPage/EnrollmentEditEventPageForm/EnrollmentEditEventPageForm. │
  │               feature                                                                          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentEditEventPage/Enr     (1280x720)
     ollmentEditEventPageForm/EnrollmentEditEventPageForm.feature/User interacts with               
      Enrollment event page viewedit form -- The user cannot enter edit mode for comp               
     leted events (failed).png                                                                      
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentEditEventPage/Enr     (1280x720)
     ollmentEditEventPageForm/EnrollmentEditEventPageForm.feature/User interacts with               
      Enrollment event page viewedit form -- The user cannot enter edit mode for comp               
     leted events (failed) (attempt 2).png                                                          
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentEditEventPage/Enr     (1280x720)
     ollmentEditEventPageForm/EnrollmentEditEventPageForm.feature/User interacts with               
      Enrollment event page viewedit form -- The user cannot enter edit mode for comp               
     leted events (failed) (attempt 3).png                                                          
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentEditEventPage/Enr     (1280x720)
     ollmentEditEventPageForm/EnrollmentEditEventPageForm.feature/User interacts with               
      Enrollment event page viewedit form -- The user cannot enter edit mode for comp               
     leted events (failed) (attempt 4).png                                                          


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 8 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentEditEventPage/EnrollmentEditEventPageForm/EnrollmentEditEventPageForm.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentEditEventPage/EnrollmentEditEventPageNavigation/Enrollment          (16 of 34)
            EditEventPageNavigation.feature                                                         


  User interacts with Enrollment event page
    ✓ The user can land on the enrollment event page. (4543ms)
    ✓ User can navigate back and forward between the enrollment event edit page and the enrollment page (6877ms)


  2 passing (12s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        2                                                                                │
  │ Passing:      2                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     11 seconds                                                                       │
  │ Spec Ran:     EnrollmentEditEventPage/EnrollmentEditEventPageNavigation/EnrollmentEditEventPag │
  │               eNavigation.feature                                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 1 second                                                  

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentEditEventPage/EnrollmentEditEventPageNavigation/EnrollmentEditEventPageNavigation.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentPage/BreakingTheGlass/BreakingTheGlass.feature                      (17 of 34)


  Breaking the glass page
    - User with search scope access tries to access an enrollment in a protected program


  0 passing (48ms)
  1 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        1                                                                                │
  │ Passing:      0                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     0 seconds                                                                        │
  │ Spec Ran:     EnrollmentPage/BreakingTheGlass/BreakingTheGlass.feature                         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 0 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentPage/BreakingTheGlass/BreakingTheGlass.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentPage/EnrollmentPageNavigation/EnrollmentPageNavigation.fea          (18 of 34)
            ture                                                                                    


  User interacts with Enrollment page
    ✓ Navigating to the registration page for new event by clicking the link button (7974ms)
    ✓ Navigating to the working lists page for new event by clicking the link button (4212ms)
    ✓ Navigating to the enrollment page for the same tet by clicking the link button (5530ms)
    ✓ Navigating to the enrollment page for a different tet by clicking the link button (5674ms)
    ✓ Auto select an enrollment when opening enrollment dashboard (2009ms)
    ✓ Auto select orgunit when opening enrollment dashboard (1899ms)
    ✓ Reset tei (2796ms)
    ✓ Reset program (2667ms)
    ✓ Reset orgUnit (2585ms)
    ✓ Reset enrollment (2674ms)


  10 passing (39s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        10                                                                               │
  │ Passing:      10                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     39 seconds                                                                       │
  │ Spec Ran:     EnrollmentPage/EnrollmentPageNavigation/EnrollmentPageNavigation.feature         │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 3 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentPage/EnrollmentPageNavigation/EnrollmentPageNavigation.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentPage/EnrollmentQuickActions/EnrollmentQuickActions.feature          (19 of 34)


  User interacts with the quick actions-menu
    ✓ The buttons should be disabled when stage is not available (3811ms)
    ✓ User can click the new event-button (2878ms)
    ✓ User can click the schedule event-button (2460ms)
    (Attempt 1 of 4) The create new quick actions button should be disabled if no available stages
    (Attempt 2 of 4) The create new quick actions button should be disabled if no available stages
    (Attempt 3 of 4) The create new quick actions button should be disabled if no available stages
    1) The create new quick actions button should be disabled if no available stages


  3 passing (11s)
  1 failing

  1) User interacts with the quick actions-menu
       The create new quick actions button should be disabled if no available stages:
     CypressError: `cy.request()` failed on:

http://localhost:8080/api/auth/login

The response we received from your web server was:

  > 401: Unauthorized

This was considered a failure because the status code was not `2xx` or `3xx`.

If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`

-----------------------------------------------------------

The request we sent was:

Method: POST
URL: http://localhost:8080/api/auth/login
Headers: {
  "Connection": "keep-alive",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/12.17.4 Chrome/106.0.5249.51 Electron/21.0.0 Safari/537.36",
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
  "content-length": 2
}
Body: {}

-----------------------------------------------------------

The response we got was:

Status: 401 - Unauthorized
Headers: {
  "content-security-policy": "frame-ancestors 'self' http://localhost:8083 http://localhost:8080 https://*.netlify.dhis2.org http://localhost:8082 http://localhost:8081 https://dhis2.stoplight.io http://localhost:3000 http://localhost:9000;",
  "cache-control": "no-cache, private",
  "x-content-type-options": "nosniff",
  "x-xss-protection": "0",
  "content-type": "application/json;charset=UTF-8",
  "content-length": "95",
  "date": "Thu, 08 May 2025 14:01:01 GMT",
  "keep-alive": "timeout=20",
  "connection": "keep-alive"
}
Body: {
  "httpStatus": "Unauthorized",
  "httpStatusCode": 401,
  "status": "ERROR",
  "message": "Bad credentials"
}


This error occurred while creating the session. Because the session setup failed, we failed the test.

https://on.cypress.io/request
      at <unknown> (http://localhost:3000/__cypress/runner/cypress_runner.js:132360:72)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:1807:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:1519:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:1576:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:1621:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:1701:18)
      at _drainQueueStep (http://localhost:3000/__cypress/runner/cypress_runner.js:2407:12)
      at _drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:2400:9)
      at Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2416:5)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2286:14)
  From Your Spec Code:
      at Context.eval (webpack://capture-app/./cypress/support/commands.js:38:0)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        4                                                                                │
  │ Passing:      3                                                                                │
  │ Failing:      1                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  4                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     11 seconds                                                                       │
  │ Spec Ran:     EnrollmentPage/EnrollmentQuickActions/EnrollmentQuickActions.feature             │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/EnrollmentQu     (1280x720)
     ickActions/EnrollmentQuickActions.feature/User interacts with the quick actions-               
     menu -- The create new quick actions button should be disabled if no available s               
     tages (failed).png                                                                             
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/EnrollmentQu     (1280x720)
     ickActions/EnrollmentQuickActions.feature/User interacts with the quick actions-               
     menu -- The create new quick actions button should be disabled if no available s               
     tages (failed) (attempt 2).png                                                                 
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/EnrollmentQu     (1280x720)
     ickActions/EnrollmentQuickActions.feature/User interacts with the quick actions-               
     menu -- The create new quick actions button should be disabled if no available s               
     tages (failed) (attempt 3).png                                                                 
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/EnrollmentQu     (1280x720)
     ickActions/EnrollmentQuickActions.feature/User interacts with the quick actions-               
     menu -- The create new quick actions button should be disabled if no available s               
     tages (failed) (attempt 4).png                                                                 


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 1 second                                                  

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentPage/EnrollmentQuickActions/EnrollmentQuickActions.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentPage/HiddenProgramStage/HiddenProgramStage.feature                  (20 of 34)


  Hidden program stage
    ✓ The user cannot add an event in a hidden program stage (17096ms)


  1 passing (17s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        1                                                                                │
  │ Passing:      1                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     17 seconds                                                                       │
  │ Spec Ran:     EnrollmentPage/HiddenProgramStage/HiddenProgramStage.feature                     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 1 second                                                  

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentPage/HiddenProgramStage/HiddenProgramStage.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  EnrollmentPage/StagesAndEventsWidget/StagesAndEventsWidget.feature            (21 of 34)


  User interacts with Stages and Events Widget
    ✓ User can view program stages (4373ms)
    ✓ User can close the Stages and Events Widget (3255ms)
    ✓ User can close and reopen the Stages and Events Widget (3542ms)
    ✓ User can view the list of events (4073ms)
    ✓ User can view more events (3177ms)
    ✓ User can sort the list of events (4968ms)
    - User can go to Program Stage list by clicking Go to full
    ✓ User can go to Add new page by clicking New event in stage (3244ms)
    ✓ User can go to Add new page by clicking New event in stage even if there is no event (3193ms)
    ✓ User can not go to Add new page if stage is not repeatable and there is event in the stage (2898ms)
    ✓ User can skip a scheduled event (3111ms)
    ✓ User can unskip a scheduled event (3398ms)
    ✓ User can delete an event (11678ms)
    (Attempt 1 of 4) Program stage is hidden if no data read access
    (Attempt 2 of 4) Program stage is hidden if no data read access
    (Attempt 3 of 4) Program stage is hidden if no data read access
    1) Program stage is hidden if no data read access
    (Attempt 1 of 4) Create new event button is disabled if no data write access
    (Attempt 2 of 4) Create new event button is disabled if no data write access
    (Attempt 3 of 4) Create new event button is disabled if no data write access
    2) Create new event button is disabled if no data write access


  12 passing (56s)
  1 pending
  2 failing

  1) User interacts with Stages and Events Widget
       Program stage is hidden if no data read access:
     CypressError: `cy.request()` failed on:

http://localhost:8080/api/auth/login

The response we received from your web server was:

  > 401: Unauthorized

This was considered a failure because the status code was not `2xx` or `3xx`.

If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`

-----------------------------------------------------------

The request we sent was:

Method: POST
URL: http://localhost:8080/api/auth/login
Headers: {
  "Connection": "keep-alive",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/12.17.4 Chrome/106.0.5249.51 Electron/21.0.0 Safari/537.36",
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
  "content-length": 2
}
Body: {}

-----------------------------------------------------------

The response we got was:

Status: 401 - Unauthorized
Headers: {
  "content-security-policy": "frame-ancestors 'self' http://localhost:8083 http://localhost:8080 https://*.netlify.dhis2.org http://localhost:8082 http://localhost:8081 https://dhis2.stoplight.io http://localhost:3000 http://localhost:9000;",
  "cache-control": "no-cache, private",
  "x-content-type-options": "nosniff",
  "x-xss-protection": "0",
  "content-type": "application/json;charset=UTF-8",
  "content-length": "95",
  "date": "Thu, 08 May 2025 14:02:23 GMT",
  "keep-alive": "timeout=20",
  "connection": "keep-alive"
}
Body: {
  "httpStatus": "Unauthorized",
  "httpStatusCode": 401,
  "status": "ERROR",
  "message": "Bad credentials"
}


This error occurred while creating the session. Because the session setup failed, we failed the test.

https://on.cypress.io/request
      at <unknown> (http://localhost:3000/__cypress/runner/cypress_runner.js:132360:72)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:1807:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:1519:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:1576:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:1621:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:1701:18)
      at _drainQueueStep (http://localhost:3000/__cypress/runner/cypress_runner.js:2407:12)
      at _drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:2400:9)
      at Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2416:5)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2286:14)
  From Your Spec Code:
      at Context.eval (webpack://capture-app/./cypress/support/commands.js:38:0)

  2) User interacts with Stages and Events Widget
       Create new event button is disabled if no data write access:
     CypressError: `cy.request()` failed on:

http://localhost:8080/api/auth/login

The response we received from your web server was:

  > 401: Unauthorized

This was considered a failure because the status code was not `2xx` or `3xx`.

If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`

-----------------------------------------------------------

The request we sent was:

Method: POST
URL: http://localhost:8080/api/auth/login
Headers: {
  "Connection": "keep-alive",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/12.17.4 Chrome/106.0.5249.51 Electron/21.0.0 Safari/537.36",
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
  "content-length": 2
}
Body: {}

-----------------------------------------------------------

The response we got was:

Status: 401 - Unauthorized
Headers: {
  "content-security-policy": "frame-ancestors 'self' http://localhost:8083 http://localhost:8080 https://*.netlify.dhis2.org http://localhost:8082 http://localhost:8081 https://dhis2.stoplight.io http://localhost:3000 http://localhost:9000;",
  "cache-control": "no-cache, private",
  "x-content-type-options": "nosniff",
  "x-xss-protection": "0",
  "content-type": "application/json;charset=UTF-8",
  "content-length": "95",
  "date": "Thu, 08 May 2025 14:02:25 GMT",
  "keep-alive": "timeout=20",
  "connection": "keep-alive"
}
Body: {
  "httpStatus": "Unauthorized",
  "httpStatusCode": 401,
  "status": "ERROR",
  "message": "Bad credentials"
}


This error occurred while creating the session. Because the session setup failed, we failed the test.

https://on.cypress.io/request
      at <unknown> (http://localhost:3000/__cypress/runner/cypress_runner.js:132360:72)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:1807:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:1519:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:1576:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:1621:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:1701:18)
      at _drainQueueStep (http://localhost:3000/__cypress/runner/cypress_runner.js:2407:12)
      at _drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:2400:9)
      at Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2416:5)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2286:14)
  From Your Spec Code:
      at Context.eval (webpack://capture-app/./cypress/support/commands.js:38:0)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        15                                                                               │
  │ Passing:      12                                                                               │
  │ Failing:      2                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  8                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     55 seconds                                                                       │
  │ Spec Ran:     EnrollmentPage/StagesAndEventsWidget/StagesAndEventsWidget.feature               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Program stage is hidden if no data read access (failed).png                            
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Program stage is hidden if no data read access (failed) (attempt 2).png                
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Program stage is hidden if no data read access (failed) (attempt 3).png                
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Program stage is hidden if no data read access (failed) (attempt 4).png                
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Create new event button is disabled if no data write access (failed).png               
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Create new event button is disabled if no data write access (failed) (at               
     tempt 2).png                                                                                   
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Create new event button is disabled if no data write access (failed) (at               
     tempt 3).png                                                                                   
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/EnrollmentPage/StagesAndEve     (1280x720)
     ntsWidget/StagesAndEventsWidget.feature/User interacts with Stages and Events Wi               
     dget -- Create new event button is disabled if no data write access (failed) (at               
     tempt 4).png                                                                                   


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 5 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/EnrollmentPage/StagesAndEventsWidget/StagesAndEventsWidget.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  StageEventListPage/StageEventListNavigation/StageEventListNavigation          (22 of 34)
            .feature                                                                                


  User interacts with Stage Event List Page
    ✓ Navigating to Stage Event List Page by url (3380ms)


  1 passing (4s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        1                                                                                │
  │ Passing:      1                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     3 seconds                                                                        │
  │ Spec Ran:     StageEventListPage/StageEventListNavigation/StageEventListNavigation.feature     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 0 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/StageEventListPage/StageEventListNavigation/StageEventListNavigation.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  ViewPage/EditEventPageForm/EditEventPageForm.feature                          (23 of 34)


  User interacts with a single event page view/edit form
    ✓ The single event is edited and the changes are reflected in the working list (7433ms)
    ✓ User views the event details page (5201ms)
    ✓ User edits the category combination (6915ms)
    ✓ The user can add and then delete a relationship to a tracked entity (3597ms)
    ✓ The user can see the enroll form for a tracked entity by adding a relationship (4766ms)


  5 passing (28s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        5                                                                                │
  │ Passing:      5                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     28 seconds                                                                       │
  │ Spec Ran:     ViewPage/EditEventPageForm/EditEventPageForm.feature                             │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 2 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/ViewPage/EditEventPageForm/EditEventPageForm.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WidgetsForEnrollmentPages/WidgetChangelog/Changelog.feature                   (24 of 34)


  The user interacts with the changelog widget
    ✓ The user can view an event changelog on the enrollment edit event (4779ms)
    ✓ The user can change the changelog page size (5069ms)
    ✓ The user can navigate between pages in the changelog (3875ms)
    ✓ The user can filter the changelog by data item (4584ms)
    ✓ Only one filter can be applied at a time (4615ms)
    ✓ The filter remains active when sorting is applied (4885ms)
    ✓ The user can remove the applied filter (4665ms)
    ✓ The user can sort by Date (4275ms)
    ✓ The user can sort by User (3638ms)
    ✓ The user can sort by Data item (3441ms)


  10 passing (45s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        10                                                                               │
  │ Passing:      10                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     45 seconds                                                                       │
  │ Spec Ran:     WidgetsForEnrollmentPages/WidgetChangelog/Changelog.feature                      │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 4 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WidgetsForEnrollmentPages/WidgetChangelog/Changelog.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WidgetsForEnrollmentPages/WidgetsForEnrollmentAddEventPage/WidgetsFo          (25 of 34)
            rEnrollmentAddEventPage.feature                                                         


  The user interacts with the widgets on the enrollment add event page
    ✓ The profile widget can be closed on the enrollment dashboard (3792ms)
    ✓ The profile widget can be closed and reopened on the enrollment dashboard (2500ms)
    ✓ User can close the Enrollment Widget (2298ms)
    ✓ User can close and reopen the Enrollment Widget (2724ms)
    ✓ User can see the enrollment details (2393ms)
    ✓ User can open the delete modal (2382ms)
    ✓ User switch tab in add event page (4737ms)
    ✓ You can assign a user when scheduling an event (3382ms)
    ✓ User can complete the enrollment and the active events (10218ms)
    ✓ User can see the enrollment minimap (2243ms)


  10 passing (40s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        10                                                                               │
  │ Passing:      10                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     39 seconds                                                                       │
  │ Spec Ran:     WidgetsForEnrollmentPages/WidgetsForEnrollmentAddEventPage/WidgetsForEnrollmentA │
  │               ddEventPage.feature                                                              │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 3 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WidgetsForEnrollmentPages/WidgetsForEnrollmentAddEventPage/WidgetsForEnrollmentAddEventPage.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WidgetsForEnrollmentPages/WidgetsForEnrollmentDashboard/WidgetsForEn          (26 of 34)
            rollmentDashboard.feature                                                               


  The user interacts with the widgets on the enrollment dashboard
    ✓ User can open the transfer modal (4606ms)
    ✓ User can select an organisation unit in the transfer modal (3364ms)
    (Attempt 1 of 4) User can transfer the enrollment to another organisation unit
    (Attempt 2 of 4) User can transfer the enrollment to another organisation unit
    (Attempt 3 of 4) User can transfer the enrollment to another organisation unit
    1) User can transfer the enrollment to another organisation unit
    ✓ The profile widget can be closed on the enrollment dashboard (2811ms)
    ✓ The profile widget can be closed and reopened on the enrollment dashboard (3831ms)
    ✓ The profile edit modal widget can be closed and reopened on the enrollment dashboard (4222ms)
    ✓ The TEI rules are triggered correctly in the profile edit modal widget (15388ms)
    ✓ The user updates the TEI attributes. The changes are reflected in the whole page. (21155ms)
    ✓ You can delete a tracked entity from the profile widget (7104ms)
    ✓ User can close the Enrollment Widget (3166ms)
    ✓ User can close and reopen the Enrollment Widget (3102ms)
    ✓ User can see the enrollment details (3124ms)
    ✓ User can open the delete modal (3078ms)
    ✓ User can add note on enrollment dashboard page (4686ms)
    ✓ The program rules are triggered and the effects are displayed in the sidebar widgets (2920ms)
    ✓ User can complete the enrollment and the active events (10834ms)
    ✓ User can see the enrollment minimap (2572ms)
    ✓ User can see in the profile widget the tracked entity type polygon geometry (3250ms)


  17 passing (2m)
  1 failing

  1) The user interacts with the widgets on the enrollment dashboard
       User can transfer the enrollment to another organisation unit:
     Error: The following error originated from your application code, not from Cypress. It was caused by an unhandled promise rejection.

  > An unknown error occurred - Bad Request (400)

When Cypress detects uncaught errors originating from your application it will automatically fail the current test.

This behavior is configurable, and you can choose to turn this off by listening to the `uncaught:exception` event.

https://on.cypress.io/uncaught-exception-from-application
      at parseStatus (http://localhost:3000/static/js/bundle.js:29925:11)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        18                                                                               │
  │ Passing:      17                                                                               │
  │ Failing:      1                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  4                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     2 minutes, 14 seconds                                                            │
  │ Spec Ran:     WidgetsForEnrollmentPages/WidgetsForEnrollmentDashboard/WidgetsForEnrollmentDash │
  │               board.feature                                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WidgetsForEnrollmentPages/W     (1280x720)
     idgetsForEnrollmentDashboard/WidgetsForEnrollmentDashboard.feature/The user inte               
     racts with the widgets on the enrollment dashboard -- User can transfer the enro               
     llment to another organisation unit (failed).png                                               
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WidgetsForEnrollmentPages/W     (1280x720)
     idgetsForEnrollmentDashboard/WidgetsForEnrollmentDashboard.feature/The user inte               
     racts with the widgets on the enrollment dashboard -- User can transfer the enro               
     llment to another organisation unit (failed) (attempt 2).png                                   
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WidgetsForEnrollmentPages/W     (1280x720)
     idgetsForEnrollmentDashboard/WidgetsForEnrollmentDashboard.feature/The user inte               
     racts with the widgets on the enrollment dashboard -- User can transfer the enro               
     llment to another organisation unit (failed) (attempt 3).png                                   
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WidgetsForEnrollmentPages/W     (1280x720)
     idgetsForEnrollmentDashboard/WidgetsForEnrollmentDashboard.feature/The user inte               
     racts with the widgets on the enrollment dashboard -- User can transfer the enro               
     llment to another organisation unit (failed) (attempt 4).png                                   


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
    Compression progress:  86%
  -  Finished compressing: 11 seconds                                                

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WidgetsForEnrollmentPages/WidgetsForEnrollmentDashboard/WidgetsForEnrollmentDashboard.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WidgetsForEnrollmentPages/WidgetsForEnrollmentEditEvent/WidgetsForEn          (27 of 34)
            rollmentEditEvent.feature                                                               


  The user interacts with the widgets on the enrollment edit event
    ✓ The profile widget can be closed on the enrollment edit event (4205ms)
    ✓ The profile widget can be closed and reopened on the enrollment edit event (2572ms)
    ✓ User can close the Enrollment Widget (2406ms)
    ✓ User can close and reopen the Enrollment Widget (3008ms)
    ✓ User can see the enrollment details (2605ms)
    ✓ User can open the delete modal (2412ms)
    - User can add note on edit event page view mode
    - User can see note on edit event page edit mode
    ✓ You can assign a user to a event (6687ms)
    ✓ User can complete the enrollment and the active events (11783ms)
    ✓ User can see the enrollment minimap (2402ms)


  9 passing (39s)
  2 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        11                                                                               │
  │ Passing:      9                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      2                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     39 seconds                                                                       │
  │ Spec Ran:     WidgetsForEnrollmentPages/WidgetsForEnrollmentEditEvent/WidgetsForEnrollmentEdit │
  │               Event.feature                                                                    │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 3 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WidgetsForEnrollmentPages/WidgetsForEnrollmentEditEvent/WidgetsForEnrollmentEditEvent.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WidgetsForEnrollmentPages/WidgetsForEventSchedule/WidgetsForEventSch          (28 of 34)
            edule.feature                                                                           


  The user interacts with the widgets Schedule tab
    - User cancel after choose a schedule date in schedule tab


  0 passing (67ms)
  1 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        1                                                                                │
  │ Passing:      0                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     0 seconds                                                                        │
  │ Spec Ran:     WidgetsForEnrollmentPages/WidgetsForEventSchedule/WidgetsForEventSchedule.featur │
  │               e                                                                                │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 0 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WidgetsForEnrollmentPages/WidgetsForEventSchedule/WidgetsForEventSchedule.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WorkingLists/EventWorkingLists/EventBulkActions/EventBulkAction.feat          (29 of 34)
            ure                                                                                     


  User facing tests for bulk actions on event working lists
    ✓ the user should be able to select rows (5146ms)
    ✓ the user should be able to deselect rows (3956ms)
    ✓ the user should be able to select all rows (2897ms)
    ✓ the user should be able to deselect all rows (3363ms)
    ✓ the filters should be disabled when rows are selected (3426ms)
    - the user should be able to bulk complete events
    ✓ the user should be able to bulk delete events (3218ms)


  6 passing (23s)
  1 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        7                                                                                │
  │ Passing:      6                                                                                │
  │ Failing:      0                                                                                │
  │ Pending:      1                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     22 seconds                                                                       │
  │ Spec Ran:     WorkingLists/EventWorkingLists/EventBulkActions/EventBulkAction.feature          │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 2 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WorkingLists/EventWorkingLists/EventBulkActions/EventBulkAction.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WorkingLists/EventWorkingLists/EventWorkingListsDev/EventWorkingList          (30 of 34)
            sDev.feature                                                                            


  Developer facing tests for user interaction with event working lists
    ✓ User opens the default working list for an event program (4512ms)
    ✓ Show only events assigned to anyone using the predefined working list (4120ms)
    ✓ Show only events assigned to anyone using the filter (4898ms)
    ✓ Show only active events assigned to anyone using the filter (5313ms)
    ✓ Show only events where age is between 10 and 20 using the filter (5233ms)
    ✓ Show next page (4583ms)
    ✓ Show next page then previous page (5593ms)
    ✓ Show next page then first page (5652ms)
    ✓ Show 50 rows per page (5030ms)
    ✓ Show events ordered ascendingly by report date (4737ms)


  10 passing (51s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        10                                                                               │
  │ Passing:      10                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     51 seconds                                                                       │
  │ Spec Ran:     WorkingLists/EventWorkingLists/EventWorkingListsDev/EventWorkingListsDev.feature │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 4 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WorkingLists/EventWorkingLists/EventWorkingListsDev/EventWorkingListsDev.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WorkingLists/EventWorkingLists/EventWorkingListsUser/EventWorkingLis          (31 of 34)
            tsUser.feature                                                                          


  User interacts with event working lists
    ✓ User opens the default working list for an event program (7917ms)
    ✓ Show only events assigned to anyone using the predefined working list (3190ms)
    ✓ Show only events assigned to anyone using the filter (3651ms)
    ✓ Show only active events assigned to anyone using the filter (4232ms)
    ✓ Show only events where age is between 10 and 20 using the filter (4934ms)
    ✓ Show the Household location column (2743ms)
    ✓ Show next page (6242ms)
    ✓ Show next page then previous page (12603ms)
    ✓ Show next page then first page (11947ms)
    ✓ Show 10 rows per page (5308ms)
    ✓ Show events ordered ascendingly by report date (13780ms)
    (Attempt 1 of 4) Ensure sharing settings are preserved when updating a working list
    ✓ Ensure sharing settings are preserved when updating a working list (12275ms)
    ✓ Save and load a view with a date filter (17047ms)
    ✓ User is promted with message to select Category (1564ms)
    ✓ The user can see the working list when selecting Category (2080ms)
    ✓ The user can delete a working list right immediately after creating it. (15047ms)


  16 passing (3m)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        16                                                                               │
  │ Passing:      16                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  1                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     2 minutes, 42 seconds                                                            │
  │ Spec Ran:     WorkingLists/EventWorkingLists/EventWorkingListsUser/EventWorkingListsUser.featu │
  │               re                                                                               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/EventWorkingLi     (1280x720)
     sts/EventWorkingListsUser/EventWorkingListsUser.feature/User interacts with even               
     t working lists -- Ensure sharing settings are preserved when updating a working               
      list (failed).png                                                                             


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
    Compression progress:  84%
  -  Finished compressing: 13 seconds                                                

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WorkingLists/EventWorkingLists/EventWorkingListsUser/EventWorkingListsUser.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WorkingLists/TeiWorkingLists/TeiBulkActions/TeiBulkActions.feature            (32 of 34)


  User facing tests for bulk actions on Tracked Entity working lists
    ✓ the user should be able to select rows (5156ms)
    ✓ the user should be able to deselect rows (3657ms)
    ✓ the user should be able to select all rows (2644ms)
    ✓ the user should be able to deselect all rows (3200ms)
    ✓ the filters should be disabled when rows are selected (3234ms)
    - The user should see an error message when trying to bulk complete enrollments with errors
    ✓ the user should be able to bulk complete enrollments and events (3201ms)
    - the user should be able to bulk complete enrollments without completing events
    - the user should be able to bulk delete enrollments
    - the user should be able to bulk delete only active enrollments
    (Attempt 1 of 4) a restricted user should not be able to bulk delete enrollments
    (Attempt 2 of 4) a restricted user should not be able to bulk delete enrollments
    (Attempt 3 of 4) a restricted user should not be able to bulk delete enrollments
    1) a restricted user should not be able to bulk delete enrollments


  6 passing (23s)
  4 pending
  1 failing

  1) User facing tests for bulk actions on Tracked Entity working lists
       a restricted user should not be able to bulk delete enrollments:
     CypressError: `cy.request()` failed on:

http://localhost:8080/api/auth/login

The response we received from your web server was:

  > 401: Unauthorized

This was considered a failure because the status code was not `2xx` or `3xx`.

If you do not want status codes to cause failures pass the option: `failOnStatusCode: false`

-----------------------------------------------------------

The request we sent was:

Method: POST
URL: http://localhost:8080/api/auth/login
Headers: {
  "Connection": "keep-alive",
  "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/12.17.4 Chrome/106.0.5249.51 Electron/21.0.0 Safari/537.36",
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
  "content-length": 2
}
Body: {}

-----------------------------------------------------------

The response we got was:

Status: 401 - Unauthorized
Headers: {
  "content-security-policy": "frame-ancestors 'self' http://localhost:8083 http://localhost:8080 https://*.netlify.dhis2.org http://localhost:8082 http://localhost:8081 https://dhis2.stoplight.io http://localhost:3000 http://localhost:9000;",
  "cache-control": "no-cache, private",
  "x-content-type-options": "nosniff",
  "x-xss-protection": "0",
  "content-type": "application/json;charset=UTF-8",
  "content-length": "95",
  "date": "Thu, 08 May 2025 14:13:08 GMT",
  "keep-alive": "timeout=20",
  "connection": "keep-alive"
}
Body: {
  "httpStatus": "Unauthorized",
  "httpStatusCode": 401,
  "status": "ERROR",
  "message": "Bad credentials"
}


This error occurred while creating the session. Because the session setup failed, we failed the test.

https://on.cypress.io/request
      at <unknown> (http://localhost:3000/__cypress/runner/cypress_runner.js:132360:72)
      at tryCatcher (http://localhost:3000/__cypress/runner/cypress_runner.js:1807:23)
      at Promise._settlePromiseFromHandler (http://localhost:3000/__cypress/runner/cypress_runner.js:1519:31)
      at Promise._settlePromise (http://localhost:3000/__cypress/runner/cypress_runner.js:1576:18)
      at Promise._settlePromise0 (http://localhost:3000/__cypress/runner/cypress_runner.js:1621:10)
      at Promise._settlePromises (http://localhost:3000/__cypress/runner/cypress_runner.js:1701:18)
      at _drainQueueStep (http://localhost:3000/__cypress/runner/cypress_runner.js:2407:12)
      at _drainQueue (http://localhost:3000/__cypress/runner/cypress_runner.js:2400:9)
      at Async._drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2416:5)
      at Async.drainQueues (http://localhost:3000/__cypress/runner/cypress_runner.js:2286:14)
  From Your Spec Code:
      at Context.eval (webpack://capture-app/./cypress/support/commands.js:38:0)




  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        11                                                                               │
  │ Passing:      6                                                                                │
  │ Failing:      1                                                                                │
  │ Pending:      4                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  4                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     23 seconds                                                                       │
  │ Spec Ran:     WorkingLists/TeiWorkingLists/TeiBulkActions/TeiBulkActions.feature               │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/TeiWorkingList     (1280x720)
     s/TeiBulkActions/TeiBulkActions.feature/User facing tests for bulk actions on Tr               
     acked Entity working lists -- a restricted user should not be able to bulk delet               
     e enrollments (failed).png                                                                     
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/TeiWorkingList     (1280x720)
     s/TeiBulkActions/TeiBulkActions.feature/User facing tests for bulk actions on Tr               
     acked Entity working lists -- a restricted user should not be able to bulk delet               
     e enrollments (failed) (attempt 2).png                                                         
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/TeiWorkingList     (1280x720)
     s/TeiBulkActions/TeiBulkActions.feature/User facing tests for bulk actions on Tr               
     acked Entity working lists -- a restricted user should not be able to bulk delet               
     e enrollments (failed) (attempt 3).png                                                         
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/TeiWorkingList     (1280x720)
     s/TeiBulkActions/TeiBulkActions.feature/User facing tests for bulk actions on Tr               
     acked Entity working lists -- a restricted user should not be able to bulk delet               
     e enrollments (failed) (attempt 4).png                                                         


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 2 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WorkingLists/TeiWorkingLists/TeiBulkActions/TeiBulkActions.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WorkingLists/TeiWorkingLists/TeiWorkingListsUser/TeiWorkingListsUser          (33 of 34)
            .feature                                                                                


  User interacts with tei working lists
    ✓ The TEI custom working can be shared (11590ms)
    ✓ User opens the default working list for a tracker program (3270ms)
    ✓ Show only teis with completed enrollments using the predefined working list (2712ms)
    ✓ Show only teis with completed enrollments using the filter (3234ms)
    - Show only teis with active enrollments and unassinged events using the filter
    ✓ Show only teis with first name containig John using the filter (3180ms)
    ✓ Show the registering unit column (2898ms)
    ✓ Show next page (3434ms)
    ✓ Show next page then previous page (5245ms)
    ✓ Show next page then first page (5457ms)
    ✓ Show 10 rows per page (3399ms)
    ✓ Show teis ordered ascendingly by first name (3537ms)
    ✓ The TEI custom working lists is loaded (1717ms)
    ✓ The user creates, updates and deletes a TEI custom working list (10135ms)
    ✓ The user is navigated back to the selected working list after closing a TEI (3093ms)
    ✓ The user can delete a TEI working list right immediately after creating it. (8406ms)
    ✓ The user can open and select a program stage filter (3955ms)
    ✓ While in a program stage working list, the user can filter by both TEA and data elements (6861ms)
    ✓ While in a program stage working list, the user can sort by both TEA and data elements (5277ms)
    ✓ The user can remove the program stage filter (3216ms)
    ✓ The user can filter the events by scheduledAt date (6094ms)
    ✓ The program stage working list configureation is kept when navigating (3747ms)
    ✓ The program stage working list without a orgUnit selected redirects to a tracker event (4098ms)
    ✓ The user can open a program stage list without events (5848ms)
    ✓ The user can filter the Foci response assigned events (3668ms)
    ✓ The assigned user data is kept when switching between working list types (5356ms)
    ✓ The user can create and delete a program stage working list for Foci investigation & classification assigned events (6190ms)
    ✓ The user creates, updates and deletes a Program stage custom working list (11003ms)
    ✓ The user can delete a Program stage working list right immediately after creating it. (5758ms)
    ✓ The Program stage custom working can be shared (7908ms)
    (Attempt 1 of 4) The Program stage working list configuration is kept when changing the org unit
    (Attempt 2 of 4) The Program stage working list configuration is kept when changing the org unit
    ✓ The Program stage working list configuration is kept when changing the org unit (11966ms)
    ✓ The user can save a program stage working list, based on a TEI working list configuration (6559ms)
    ✓ The user can download the tracked entity working list (2690ms)
    - The user can download the tracked entity working list
    ✓ The user cannot download the tracked entity working list when no orgUnit is selected (2317ms)


  33 passing (4m)
  2 pending


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        35                                                                               │
  │ Passing:      33                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      2                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  2                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     3 minutes, 32 seconds                                                            │
  │ Spec Ran:     WorkingLists/TeiWorkingLists/TeiWorkingListsUser/TeiWorkingListsUser.feature     │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Screenshots)

  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/TeiWorkingList     (1280x720)
     s/TeiWorkingListsUser/TeiWorkingListsUser.feature/User interacts with tei workin               
     g lists -- The Program stage working list configuration is kept when changing th               
     e org unit (failed).png                                                                        
  -  /home/ivo/code/dhis2/capture-app/cypress/screenshots/WorkingLists/TeiWorkingList     (1280x720)
     s/TeiWorkingListsUser/TeiWorkingListsUser.feature/User interacts with tei workin               
     g lists -- The Program stage working list configuration is kept when changing th               
     e org unit (failed) (attempt 2).png                                                            


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
    Compression progress:  56%
  -  Finished compressing: 18 seconds                                                

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WorkingLists/TeiWorkingLists/TeiWorkingListsUser/TeiWorkingListsUser.feature.mp4


────────────────────────────────────────────────────────────────────────────────────────────────────
                                                                                                    
  Running:  WorkingLists/TeiWorkingLists/TeiWorkingListsDev/TeiWorkingListsDev.f          (34 of 34)
            eature                                                                                  


  Developer facing tests for user interaction with Tei working lists
    ✓ User opens the default working list for a tracker program (4128ms)
    ✓ Show only teis with active enrollments using the predefined working list (3952ms)
    ✓ Show only teis with active enrollments using the filter (4637ms)
    ✓ Show only teis with active enrollments and unassinged events using the filter (4547ms)
    ✓ Show only teis with first name containig John using the filter (4415ms)
    ✓ Show next page (4205ms)
    ✓ Show next page then previous page (5145ms)
    ✓ Show next page then first page (5289ms)
    ✓ Show 50 rows per page (5022ms)
    ✓ Show teis ordered descendingly by first name (4319ms)


  10 passing (47s)


  (Results)

  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ Tests:        10                                                                               │
  │ Passing:      10                                                                               │
  │ Failing:      0                                                                                │
  │ Pending:      0                                                                                │
  │ Skipped:      0                                                                                │
  │ Screenshots:  0                                                                                │
  │ Video:        true                                                                             │
  │ Duration:     47 seconds                                                                       │
  │ Spec Ran:     WorkingLists/TeiWorkingLists/TeiWorkingListsDev/TeiWorkingListsDev.feature       │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘


  (Video)

  -  Started compressing: Compressing to 32 CRF                                                     
  -  Finished compressing: 4 seconds                                                 

  -  Video output: /home/ivo/code/dhis2/capture-app/cypress/videos/WorkingLists/TeiWorkingLists/TeiWorkingListsDev/TeiWorkingListsDev.feature.mp4


====================================================================================================

  (Run Finished)


       Spec                                              Tests  Passing  Failing  Pending  Skipped  
  ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ ✔  AllAccessibleRecordsPage/AllAccessi      00:30        6        6        -        -        - │
  │    bleRecordsPage.feature                                                                      │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  MainPage/MainPage.feature                00:24        7        6        -        1        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  NewEventThroughAddRelationship/NewE      00:41        4        4        -        -        - │
  │    ventThroughAddRelationship.feature                                                          │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  NewPage/NewPage.feature                  04:46       34       33        -        1        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  RelatedStages/RelatedStages.feature      02:38        8        8        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  ScopeSelector/ScopeSelector.feature      04:41       50       48        1        1        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  SearchForDuplicatesThroughAddRelati      00:20        4        4        -        -        - │
  │    onship/SearchForDuplicatesThroughAd                                                         │
  │    dRelationship.feature                                                                       │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  SearchPage/SearchPage.feature            01:47       28       28        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  SearchThroughAddRelationship/Search      01:06       15       15        -        -        - │
  │    ThroughAddRelationship.feature                                                              │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  SmokeTests/SmokeTests.feature            917ms        2        1        -        1        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  TopBarActions/TopBarActions.feature      00:50       17       17        -        -        - │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  EnrollmentAddEventPage/EnrollmentAd      01:53        9        9        -        -        - │
  │    dEventPageForm/EnrollmentAddEventPa                                                         │
  │    geForm.feature                                                                              │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  EnrollmentAddEventPage/EnrollmentAd      00:06        1        1        -        -        - │
  │    dEventPageNavigation/EnrollmentAddE                                                         │
  │    ventPageNavigation.feature                                                                  │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  EnrollmentAddEventPage/ProgramStage      00:07        3        2        1        -        - │
  │    Selector/ProgramStageSelector.featu                                                         │
  │    re                                                                                          │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  EnrollmentEditEventPage/EnrollmentE      01:34       11       10        1        -        - │
  │    ditEventPageForm/EnrollmentEditEven                                                         │
  │    tPageForm.feature                                                                           │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  EnrollmentEditEventPage/EnrollmentE      00:11        2        2        -        -        - │
  │    ditEventPageNavigation/EnrollmentEd                                                         │
  │    itEventPageNavigation.feature                                                               │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  EnrollmentPage/BreakingTheGlass/Bre       46ms        1        -        -        1        - │
  │    akingTheGlass.feature                                                                       │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  EnrollmentPage/EnrollmentPageNaviga      00:39       10       10        -        -        - │
  │    tion/EnrollmentPageNavigation.featu                                                         │
  │    re                                                                                          │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  EnrollmentPage/EnrollmentQuickActio      00:11        4        3        1        -        - │
  │    ns/EnrollmentQuickActions.feature                                                           │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  EnrollmentPage/HiddenProgramStage/H      00:17        1        1        -        -        - │
  │    iddenProgramStage.feature                                                                   │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  EnrollmentPage/StagesAndEventsWidge      00:55       15       12        2        1        - │
  │    t/StagesAndEventsWidget.feature                                                             │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  StageEventListPage/StageEventListNa      00:03        1        1        -        -        - │
  │    vigation/StageEventListNavigation.f                                                         │
  │    eature                                                                                      │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  ViewPage/EditEventPageForm/EditEven      00:28        5        5        -        -        - │
  │    tPageForm.feature                                                                           │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WidgetsForEnrollmentPages/WidgetCha      00:45       10       10        -        -        - │
  │    ngelog/Changelog.feature                                                                    │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WidgetsForEnrollmentPages/WidgetsFo      00:39       10       10        -        -        - │
  │    rEnrollmentAddEventPage/WidgetsForE                                                         │
  │    nrollmentAddEventPage.feature                                                               │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  WidgetsForEnrollmentPages/WidgetsFo      02:14       18       17        1        -        - │
  │    rEnrollmentDashboard/WidgetsForEnro                                                         │
  │    llmentDashboard.feature                                                                     │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WidgetsForEnrollmentPages/WidgetsFo      00:39       11        9        -        2        - │
  │    rEnrollmentEditEvent/WidgetsForEnro                                                         │
  │    llmentEditEvent.feature                                                                     │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WidgetsForEnrollmentPages/WidgetsFo       66ms        1        -        -        1        - │
  │    rEventSchedule/WidgetsForEventSched                                                         │
  │    ule.feature                                                                                 │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WorkingLists/EventWorkingLists/Even      00:22        7        6        -        1        - │
  │    tBulkActions/EventBulkAction.featur                                                         │
  │    e                                                                                           │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WorkingLists/EventWorkingLists/Even      00:51       10       10        -        -        - │
  │    tWorkingListsDev/EventWorkingListsD                                                         │
  │    ev.feature                                                                                  │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WorkingLists/EventWorkingLists/Even      02:42       16       16        -        -        - │
  │    tWorkingListsUser/EventWorkingLists                                                         │
  │    User.feature                                                                                │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✖  WorkingLists/TeiWorkingLists/TeiBul      00:23       11        6        1        4        - │
  │    kActions/TeiBulkActions.feature                                                             │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WorkingLists/TeiWorkingLists/TeiWor      03:32       35       33        -        2        - │
  │    kingListsUser/TeiWorkingListsUser.f                                                         │
  │    eature                                                                                      │
  ├────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ ✔  WorkingLists/TeiWorkingLists/TeiWor      00:47       10       10        -        -        - │
  │    kingListsDev/TeiWorkingListsDev.fea                                                         │
  │    ture                                                                                        │
  └────────────────────────────────────────────────────────────────────────────────────────────────┘
    ✖  7 of 34 failed (21%)                     37:16      377      353        8       16        -  

info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
