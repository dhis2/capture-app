---
title: Manual Setup (Bulk Data Entry Plugin)
sidebar_label: Manual setup
id: manual-setup
---

To enable bulk data entry functionality, you need to configure the data store in your DHIS2 instance. Follow these steps:

1. Access your DHIS2 Data Store Management app
2. Create a new key called `bulkDataEntry` in the `capture` namespace
3. The data store interface should look similar to this:

![Data store management app](../resources/data-store-management-bulk-data-entry-empty.png)

## Configuration Structure

In the `bulkDataEntry` key you created, you can store your bulk data entry form configurations. Each configuration is defined as a JSON object within an array, where each object represents a specific bulk data entry form. Below is an example configuration with three different forms:

```json title="capture/bulkDataEntry"
[
  {
    "configKey": "routineVisit", 
    "dataKey": "routineVisit",
    "programId": "IpHINAT79UW",
    "pluginSource": "https://{instance-url}/api/apps/{name-of-plugin}/plugin.html",
    "title": {
      "en": "Routine visit"
    },
    "subtitle": {
      "en": "Covers all patient visit forms"
    },
  },
  {
    "configKey": "treatment",
    "programId": "IpHINAT79UW",
    "pluginSource": "https://{instance-url}/api/apps/{name-of-plugin}/plugin.html",
    "title": {
      "en": "Treatment",
      "es": "Tratamiento"
    },
  },
  {
    "configKey": "caseBasedSurveillance",
    "programId": "uy2gU8kT1jF",
    "pluginSource": "https://{instance-url}/api/apps/{name-of-plugin}/plugin.html",
    "title": {
      "en": "Case based surveillance"
    },
    "subtitle": {
      "en": "Covers ad-hoc visits and RMNCH238972"
    },
}
]
```

### Configuration Fields

Each configuration object requires the following fields:

| Field | Required | Description |
|-------|----------|-------------|
| `configKey` | Yes | A unique identifier for the configuration. Must be unique across all configurations. |
| `dataKey` | No | An optional identifier for data storage. If not specified, the `configKey` will be used. |
| `programId` | Yes | The ID of the program where this bulk data entry configuration will be used. |
| `pluginSource` | Yes | The URL of the plugin. Must point to a valid plugin uploaded in the App Management app. |
| `title` | Yes | The display title of the configuration. Supports multiple languages using locale codes (e.g., "en", "es"). |
| `subtitle` | No | An optional subtitle for the configuration. Supports multiple languages using locale codes. |

## Selecting a Plugin Configuration

Once configured, bulk data entry plugins are accessible in multiple locations throughout the Capture app. You'll find them displayed as widgets on both the program overview and search pages:

![Widget bulk data entry main page](../resources/widget-bulk-data-entry-main-page.png)
![Widget bulk data entry search page](../resources/widget-bulk-data-entry-search-page.png)

The plugins can also be accessed via dropdown menus from the tracked entities working lists or the program stages working lists:

![Dropdown menu bulk data entry program stage working lists](../resources/dropdown-menu-bulk-data-entry-program-stage-working-lists.png)
![Dropdown menu bulk data entry tracked entities working lists](../resources/dropdown-menu-bulk-data-entry-tracked-entities-working-lists.png)

After the user selects a plugin configuration, it is stored in `IndexedDB` for the duration of use.

### Passing Tracked Entities to the Plugin

The plugin receives tracked entities through the `trackedEntities` prop - an array containing the IDs of selected tracked entities.

### Cleanup and Disposal

To properly close the plugin and clean up resources, use the `onClose` function provided as a prop. This function will remove the selected configuration from `IndexedDB`.
